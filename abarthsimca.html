<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abarth Simca 2000 Tipo 136 - 1965 – Scheda</title>
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{
      --blue-deep: #0a1a2b;
      --blue-deep-2:#0f253b;
      --beige:     #d9c7a6;
      --ink:       #eae7e1;
      --muted:     #b9c3cf;
      --line:      #22364c;
      --shadow:    0 14px 40px rgba(0,0,0,.35);
      --radius:    16px;
      --radius-s:  12px;
      --gold:      #c8ab6e;
      --focus:     #f5d79a;
      --gap:       clamp(10px, 1.8vw, 16px);
      --maxw:      1200px;
      --green:     #5AD07A;
      --orange:    #FFA94D;
      --red:       #FF6B6B;
    }
    html,body{margin:0;padding:0;background:linear-gradient(180deg,var(--blue-deep) 0%, var(--blue-deep-2) 100%);color:var(--ink);font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;}
    *,*:before,*:after{box-sizing:border-box}

    /* ====== Navbar fissa con hamburger ====== */
    .navbar{
      position: sticky; top:0; z-index:1000;
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(10,20,30,.75), rgba(10,20,30,.35));
      border-bottom: 1px solid var(--line);
    }
    .nav-inner{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 10px 16px;
      display:flex; align-items:center; gap:12px;
    }
    .hamburger{
      width:42px; height:42px; border-radius:10px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(10,20,30,.35);
      display:grid; place-items:center; cursor:pointer;
      transition: border-color .2s ease, transform .12s ease;
    }
    .hamburger:hover{ border-color: rgba(255,255,255,.4) }
    .hamburger:focus-visible{ outline:2px solid var(--focus); outline-offset:3px }
    .hamburger svg{ width:22px; height:22px; stroke: var(--ink); fill:none; stroke-width:2.2 }

    .brand-title{ font-size:14px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted) }

    /* Drawer */
    .drawer{
      position: fixed; inset:0; display:none;
    }
    .drawer.is-open{ display:block; }
    .drawer__backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.45); }
    .drawer__panel{
      position:absolute; top:0; left:0; height:100%; width:min(86vw, 320px);
      background: #0d1c2e;
      border-right: 1px solid var(--line);
      box-shadow: 8px 0 30px rgba(0,0,0,.4);
      padding: 18px;
      display:flex; flex-direction:column; gap:10px;
    }
    .drawer a{
      color: var(--ink); text-decoration: none; padding: 10px 4px; border-radius:8px;
    }
    .drawer a:hover{ background: rgba(255,255,255,.06); }

    /* ====== Pagina ====== */
    .page{max-width:var(--maxw);margin:0 auto;padding: 18px 16px; position: relative;}

    /* ====== CHIP flottante in alto a destra ====== */
    .chip{
      position:absolute;
      top: 10px;           /* subito sotto la navbar, dentro .page */
      right: 16px;
      display:inline-flex; align-items:center; gap:6px;
      padding:4px 10px; border-radius:999px;
      border:1px solid rgba(200,171,110,.55);
      background: radial-gradient(380px 90px at 50% 0%, rgba(255,255,255,.1), rgba(255,255,255,0));
      box-shadow: var(--shadow);
      white-space: nowrap;
    }
    .chip svg{ width:14px; height:14px; stroke: var(--gold); fill:none; stroke-width:1.8 }
    .chip-year{ color:var(--beige); font-weight:700; }

    /* ====== Barra superiore: nome + 5 box orizzontali ====== */
    .topstrip{
      display:grid;
      grid-template-columns: 1.2fr repeat(5, 1fr);
      gap: var(--gap);
      align-items:stretch;
      margin-bottom: var(--gap);
    }
    @media (max-width: 1100px){
      .topstrip{grid-template-columns: 1fr 1fr 1fr; grid-auto-rows: minmax(84px, auto)}
      .topstrip .name{grid-column: 1 / -1; min-height: 72px}
    }
    @media (max-width: 560px){
      .topstrip{grid-template-columns: 1fr; }
      .topstrip > *{min-height:64px}
    }

    .name{display:flex; align-items:flex-end; padding: 10px 0;}
    .name__label{font-size: 12px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted); margin-right:10px;}
    .name__value{font-size: clamp(28px, 4.2vw, 40px); font-weight:600; letter-spacing:.015em; line-height:1.1; color:var(--beige);}

    .spec{
      background: linear-gradient(160deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius: var(--radius-s);
      padding: 10px 12px;
      box-shadow: var(--shadow);
      display:flex; flex-direction:column; justify-content:center;
      min-height: 55px; /* SOLO questa piccola riduzione */
    }
    .spec .label{font-size:12px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted); margin-bottom:6px}
    .spec .value{font-size: clamp(18px,2.6vw,22px); font-weight:600; color:var(--beige)}

    /* ====== Gallery ====== */
    .gallery{
      position:relative;margin: 0 auto;
      background: rgba(255,255,255,.02);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    .slides{position:relative;width:100%;aspect-ratio: 16/9;overflow:hidden}
    .slide{position:absolute;inset:0;opacity:0;transform: scale(1.02);transition: opacity .5s ease, transform .6s ease;display:grid;place-items:center;background: radial-gradient(1200px 600px at 50% 20%, rgba(255,255,255,.05), rgba(0,0,0,.0));}
    .slide.is-active{opacity:1;transform: scale(1)}
    .slide img{width:100%;height:100%;object-fit:cover;display:block;filter: saturate(0.95) contrast(1.02);}
    .nav{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center;pointer-events:none}
    .arrow{pointer-events:auto;width:44px;height:44px;border-radius:50%;border:1px solid rgba(255,255,255,.18);background: rgba(10,20,30,.35);backdrop-filter: blur(6px);display:grid;place-items:center;opacity:0;transition: opacity .25s ease, transform .2s ease, border-color .2s ease;transform: translateY(2px)}
    .gallery:hover .arrow, .arrow:focus-visible{opacity:.9; transform:none}
    .arrow:hover{border-color:rgba(255,255,255,.4)}
    .arrow svg{width:20px;height:20px;fill:none;stroke: var(--ink);stroke-width:2.2}
    .arrow:focus-visible{outline:2px solid var(--focus); outline-offset:3px}
    .nav-left{margin-left:10px}
    .nav-right{margin-right:10px}
    .dots{position:absolute;left:0;right:0;bottom:10px;display:flex;gap:8px;justify-content:center}
    .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.35);border:1px solid rgba(0,0,0,.25);box-shadow:0 1px 0 rgba(0,0,0,.25);transition: transform .15s ease, background .2s ease}
    .dot.is-active{background: var(--gold); transform: scale(1.2)}

    /* ====== Azioni + Nuovi box (grid a 4) ====== */
    .actions{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--gap);
      margin: var(--gap) 0;
      max-width: var(--maxw);
      align-items:stretch;
    }
    @media (max-width: 1000px){ .actions{grid-template-columns: 1fr 1fr} }
    @media (max-width: 560px){ .actions{grid-template-columns: 1fr} }

    .action{
      display:flex; gap:10px; align-items:center; justify-content:center;
      background: radial-gradient(600px 200px at 50% 0%, rgba(255,255,255,.08), rgba(255,255,255,0));
      border:1px solid var(--line); border-radius: var(--radius-s);
      padding: 14px 16px; text-decoration:none; color:var(--ink);
      box-shadow: var(--shadow);
      transition: transform .15s ease, border-color .2s ease, background .3s ease;
      min-height: 84px;
      text-align:center;
    }
    .action:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.28) }
    .action svg{ width:20px; height:20px; stroke: var(--beige); stroke-width:2; fill:none }

    .infobox{
      background: linear-gradient(160deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius: var(--radius-s);
      padding: 12px 14px;
      box-shadow: var(--shadow);
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      min-height: 84px;
      text-align:center;
    }
    .infobox .title{font-size:12px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted); margin-bottom:6px}
    .infobox .big{font-size: clamp(20px,3vw,26px); font-weight:700; color: var(--beige); line-height:1.1; display:flex; gap:8px; align-items: baseline; justify-content:center;}
    .infobox .small{font-size: 12px; color: var(--muted)} /* stesso font di "scadenza:" */
    .infobox .sub{margin-top:4px; font-size: 12px; color: var(--muted);}

    /* Stato testo (glow/ombra sul font) */
    .state-good{ color: var(--green); text-shadow: 0 1px 0 rgba(0,0,0,.35), 0 0 10px rgba(90,208,122,.25); }
    .state-warn{ color: var(--orange); text-shadow: 0 1px 0 rgba(0,0,0,.35), 0 0 10px rgba(255,169,77,.22); }
    .state-bad { color: var(--red);   text-shadow: 0 1px 0 rgba(0,0,0,.35), 0 0 10px rgba(255,107,107,.22); }

    /* ====== Storia ====== */
    .story{margin-top: 4px;background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));border:1px solid var(--line);border-radius: var(--radius);padding: clamp(16px,2vw,22px);box-shadow: var(--shadow)}
    .story h2{margin: 0 0 8px 0;font-size: clamp(20px,2.8vw,26px);color: var(--beige)}
    .story p{margin:10px 0;line-height:1.6;color: var(--ink)}
    .divider{height:1px;background: linear-gradient(90deg, rgba(200,171,110,0), rgba(200,171,110,.8), rgba(200,171,110,0));margin:10px 0 14px}

    /* ====== Designer (stessa larghezza del sito) ====== */
    .designer{
      display:grid; grid-template-columns:160px 1fr; gap:16px; align-items:center; 
      margin-top:var(--gap); padding:14px;
      border:1px solid var(--line); border-radius:var(--radius-s);
      background:linear-gradient(160deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
      box-shadow:var(--shadow);
      max-width: var(--maxw);
      margin-left:auto; margin-right:auto; /* centrato come il resto */
    }
    .designer__img img{ width:100%; border-radius:12px; }
    .designer__label{font-size:12px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted)}
    .designer__name{margin:4px 0;font-size:20px;color:var(--beige)}
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar" aria-label="Barra di navigazione">
    <div class="nav-inner">
      <button class="hamburger" id="btnHamburger" aria-label="Apri menu" aria-controls="drawer" aria-expanded="false">
        <svg viewBox="0 0 24 24"><path d="M3 6h18M3 12h18M3 18h18"/></svg>
      </button>
      <div class="brand-title">Menu</div>
    </div>
  </nav>

  <!-- DRAWER -->
  <aside class="drawer" id="drawer" aria-hidden="true" aria-label="Menu">
    <div class="drawer__backdrop" id="drawerBackdrop"></div>
    <div class="drawer__panel">
      <a href="../index.html">Home</a>
      <a href="abarthsimca.html"> Abarth Simca</a>
      <a href="alfaromeogiuliatisuper.html">Alfa Romeo Giulia TI Super</a>
      <a href="cadillacfletwood.html">Cadillac Fletwood</a>
      <a href="fiat500l.html">Fiat 500 l</a>
      <a href="fiat500abarth.html">Fiat 500 Abarth </a>
      <a href="golfgti.html">Golf GTI</a>
      <a href="mercedes350sl.html">Mercedes 350 SL</a>
      <a href="mercedes600sl.html">Mercedes 600 SL</a>
      <a href="rollsroyce">Rolls Royce</a>
    </div>
  </aside>

  <div class="page">

    <!-- CHIP in alto a destra (non sposta nulla del layout) -->
    <span class="chip" aria-label="Anno modello">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 2h12l2 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
        <path d="M8 11h8"/><path d="M8 15h6"/>
      </svg>
      <span class="chip-year">1965</span>
    </span>

    <!-- Nome + 5 box -->
    <section class="topstrip" aria-label="Intestazione macchina">
      <div class="name">
        <div>
          <div class="name__label">Nome Macchina</div>
          <div class="name__value">Abarth Simca 2000</div>
        </div>
      </div>

      <div class="spec"><div class="label">Anno di Produzione</div><div class="value">1963-1965</div></div>
      <div class="spec"><div class="label">Cilindrata</div><div class="value">1.946 cm3</div></div>
      <div class="spec"><div class="label">Potenza</div><div class="value">200 CV a 7.200 giri/min</div></div>
      <div class="spec"><div class="label">Velocità max</div><div class="value">270 km/h</div></div>
      <div class="spec"><div class="label">Consumo</div><div class="value">15-18 l/100km</div></div>
    </section>

    <!-- Gallery -->
    <section class="gallery" aria-label="Galleria immagini">
      <div class="slides" id="slides">
        <figure class="slide is-active"><img src="disegno Abarth Simca Matita.png" alt="[NOME MACCHINA] – vista 1"></figure>
        <figure class="slide"><img src="../assets/img/macchina-2.jpg" alt="[NOME MACCHINA] – vista 2"></figure>
        <figure class="slide"><img src="../assets/img/macchina-3.jpg" alt="[NOME MACCHINA] – vista 3"></figure>
      </div>
      <div class="nav" aria-hidden="true">
        <button class="arrow nav-left" id="prev" aria-label="Immagine precedente"><svg viewBox="0 0 24 24"><path d="M14.5 5l-7 7 7 7"/></svg></button>
        <button class="arrow nav-right" id="next" aria-label="Immagine successiva"><svg viewBox="0 0 24 24"><path d="M9.5 5l7 7-7 7"/></svg></button>
      </div>
      <div class="dots" id="dots" aria-hidden="true"></div>
    </section>

    <!-- Azioni + Nuovi box (allineati) -->
    <section class="actions" aria-label="Azioni e stato documenti">
      <!-- 1) PDF -->
      <a class="action" href="../assets/pdf/istruzioni.pdf" target="_blank" rel="noopener">
        <svg viewBox="0 0 24 24"><path d="M6 2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/><path d="M14 2v6h6"/><path d="M8 14h8"/><path d="M8 18h6"/></svg>
        <span>Istruzioni d’uso (PDF)</span>
      </a>

      <!-- 2) Audio -->
      <a class="action" href="../assets/audio/storia.mp3">
        <svg viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
        <span>Ascolta la storia (Audio)</span>
      </a>

      <!-- 3) Revisione: "tra" + giorni colorati + scadenza -->
      <div class="infobox" id="box-revisione" data-deadline-revisione="2025-10-20">
        <div class="title">Revisione in:</div>
        <div class="big">
          <span id="rev-days">--</span>
          <span class="small">giorni</span>
        </div>
        <div class="sub" id="rev-deadline">scadenza: --.--.----</div>
      </div>

      <!-- 4) Assicurazione: solo testo Sì/No colorato + scadenza -->
      <div class="infobox" id="box-assicurazione" data-deadline-assicurazione="2025-12-31">
        <div class="title">Assicurazione</div>
        <div class="big"><span id="ins-text">—</span></div>
        <div class="sub" id="ins-deadline">scadenza: --.--.----</div>
      </div>
    </section>

    <!-- Storia -->
    <section class="story" id="storia">
      <h2>Storia</h2>
      <div class="divider"></div>
      <p>La Abarth Simca 2000 Tipo 136 è passata alla storia come il “David contro Golia” delle corse: piccola, leggera, velocissima, capace di sfidare giganti con cilindrate doppie o triple. Una macchina che ha scritto una pagina indelebile nella leggenda di Carlo Abarth. Simbolo della collaborazione Abarth–Simca.

Perchè ha fatto la storia: 

Prestazioni da record: con appena 2 litri di cilindrata superava i 270 km/h, rivaleggiando con Ferrari e Porsche più potenti.

Rapporto peso/potenza imbattibile: grazie ai soli 600 kg, era agile e letale in gara.

Aerodinamica pionieristica: coda tronca (“duck-tail”) e versioni “Longnose” anticipavano soluzioni che sarebbero diventate standard.

Regina delle cronoscalate: dominava in salita e nei circuiti misti, dove potenza e leggerezza erano decisive.

Filosofia Abarth: incarnava l’idea di Carlo Abarth che “non serve un grande motore per vincere, ma un’auto leggera e intelligente”.

Rarità e fascino: prodotta in pochissimi esemplari, oggi è un’icona assoluta nei musei e nelle aste di auto storiche.
</p>
    </section>

  </div>

  <!-- Designer allineato come il resto -->
  <section class="designer">
    <div class="designer__img"><img src="../assets/img/designer-carlo-abarth.jpg" alt="Carlo Abarth" /></div>
    <div>
      <div class="designer__label">Designer</div>
      <div class="designer__name">Carlo Abarth</div>
      <p>Fondatore e anima del marchio, promotore della filosofia “leggero è meglio”: motori compatti, pesi piuma e aerodinamica furba per battere avversari più potenti.</p>
    </div>
  </section>

  <script>
    /* ====== Drawer (hamburger) ====== */
    (function(){
      const btn = document.getElementById('btnHamburger');
      const drawer = document.getElementById('drawer');
      const backdrop = document.getElementById('drawerBackdrop');
      function open(){ drawer.classList.add('is-open'); drawer.setAttribute('aria-hidden','false'); btn.setAttribute('aria-expanded','true'); }
      function close(){ drawer.classList.remove('is-open'); drawer.setAttribute('aria-hidden','true'); btn.setAttribute('aria-expanded','false'); }
      btn.addEventListener('click', ()=> drawer.classList.contains('is-open') ? close() : open());
      backdrop.addEventListener('click', close);
      window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
    })();

    /* ====== Slideshow ====== */
    (function(){
      const slides = Array.from(document.querySelectorAll('.slide'));
      const dotsWrap = document.getElementById('dots');
      const prev = document.getElementById('prev');
      const next = document.getElementById('next');
      let i = 0;
      function renderDots(){
        dotsWrap.innerHTML = '';
        slides.forEach((_, idx) => {
          const d = document.createElement('button');
          d.className = 'dot' + (idx === i ? ' is-active' : '');
          d.addEventListener('click', () => go(idx));
          dotsWrap.appendChild(d);
        });
      }
      function go(n){slides[i].classList.remove('is-active');i=(n+slides.length)%slides.length;slides[i].classList.add('is-active');renderDots();}
      renderDots();
      next?.addEventListener('click',()=>go(i+1));
      prev?.addEventListener('click',()=>go(i-1));

      // Swipe touch
      let x0=null; const el=document.querySelector('.slides');
      el.addEventListener('touchstart', e => { x0 = e.touches[0].clientX }, {passive:true});
      el.addEventListener('touchend', e => {
        if(x0===null) return;
        const dx = e.changedTouches[0].clientX - x0;
        if(Math.abs(dx)>30) { dx<0 ? go(i+1) : go(i-1); }
        x0=null;
      }, {passive:true});
    })();

    /* ====== Utils date ====== */
    function parseISO(d){ return new Date(d + 'T00:00:00') }
    function fmtIT(date){
      const dd=String(date.getDate()).padStart(2,'0');
      const mm=String(date.getMonth()+1).padStart(2,'0');
      const yyyy=date.getFullYear();
      return `${dd}.${mm}.${yyyy}`;
    }
    function daysBetween(today, target){
      const MS = 24*60*60*1000;
      return Math.max(0, Math.ceil((target - today)/MS));
    }

    /* ====== Revisione: colore dinamico (0–30 rosso, 31–60 arancio, >60 verde) ====== */
    (function(){
      const box=document.getElementById('box-revisione');
      if(!box) return;
      const raw=box.getAttribute('data-deadline-revisione');
      const today=new Date();
      const today0=new Date(today.getFullYear(),today.getMonth(),today.getDate());
      const deadline=parseISO(raw);
      const days=daysBetween(today0, deadline);
      const daysEl=document.getElementById('rev-days');
      daysEl.textContent=days;

      // classi colore (anche con glow)
      if(days <= 30) { daysEl.classList.add('state-bad'); }
      else if(days <= 60) { daysEl.classList.add('state-warn'); }
      else { daysEl.classList.add('state-good'); }

      document.getElementById('rev-deadline').textContent='scadenza: '+fmtIT(deadline);
    })();

    /* ====== Assicurazione: Sì/No automatico + stesso colore delle classi sopra ====== */
    (function(){
      const box=document.getElementById('box-assicurazione');
      if(!box) return;
      const raw=box.getAttribute('data-deadline-assicurazione');
      const today=new Date();
      const today0=new Date(today.getFullYear(),today.getMonth(),today.getDate());
      const deadline=parseISO(raw);
      const txt=document.getElementById('ins-text');

      if(today0 < deadline){
        txt.textContent='Sì';
        // se mancano <=30 giorni alla scadenza, arancione/rosso come alert
        const days=daysBetween(today0, deadline);
        if(days <= 30) txt.classList.add('state-warn');
        else txt.classList.add('state-good');
      } else {
        txt.textContent='No';
        txt.classList.add('state-bad');
      }
      document.getElementById('ins-deadline').textContent='scadenza: '+fmtIT(deadline);
    })();
  </script>
</body>
</html>